<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caja / Punto de Venta - ServiTech</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <link rel="stylesheet" href="../css/custom.css">
    <link rel="stylesheet" href="../css/caja.css">
</head>
<body>
    <div class="overlay" id="overlay"></div>

    <nav class="sidebar" id="sidebar">
        <header class="sidebar-header">
            <img src="../img/logo.png" alt="Logo ServiTech" class="sidebar-logo">
        </header>
        <ul class="sidebar-nav">
            <li><a href="../index.html"><i data-feather="clipboard"></i> Órdenes</a></li>
            <li><a href="inventario.html"><i data-feather="package"></i> Inventario</a></li>
            <li><a href="proveedores.html"><i data-feather="truck"></i> Proveedores</a></li>
            <li><a href="cuentas-pagar.html"><i data-feather="credit-card"></i> Cuentas por Pagar</a></li>
            <li><a href="caja.html" class="active"><i data-feather="dollar-sign"></i> Caja</a></li>
            <li><a href="reportes.html"><i data-feather="bar-chart-2"></i> Reportes</a></li>
            <li><a href="configuracion.html"><i data-feather="settings"></i> Configuración</a></li>
        </ul>
        <footer class="sidebar-footer">
            <a href="#" id="logout-btn" role="button" class="contrast outline"><i data-feather="log-out"></i> Cerrar Sesión</a>
        </footer>
    </nav>

    <div class="main-content">
        <header class="top-header">
            <button class="hamburger" id="hamburger-menu" aria-label="Abrir menú"><i data-feather="menu"></i></button>
            <img src="../img/logo.png" alt="Logo ServiTech" class="sidebar-logo mobile-logo">
            <div class="mobile-header-actions">
                <button id="theme-toggle" aria-label="Cambiar tema"><i data-feather="moon"></i></button>
            </div>
        </header>

        <main class="container-fluid pos-container">
            <div class="pos-search-panel">
                <article>
                    <header><h6>Buscar Producto en Inventario</h6></header>
                    <input type="search" id="product-search-input" placeholder="Escribe el nombre del producto...">
                    <div id="product-search-results" class="list-container">
                        </div>
                </article>
            </div>

            <div class="pos-ticket-panel">
                <article>
                    <header>
                        <div class="ticket-header">
                            <h6>Ticket de Venta Actual</h6>
                            <button id="clear-ticket-btn" class="secondary outline small-btn"><i data-feather="trash-2"></i> Limpiar</button>
                        </div>
                    </header>
                    <div class="ticket-body">
                        <table class="striped">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th>Cant.</th>
                                    <th>Precio</th>
                                    <th>Subtotal</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="ticket-items-tbody"></tbody>
                        </table>
                        <div id="ticket-empty-message" class="empty-message">Añade un producto para empezar</div>
                    </div>
                    <footer class="ticket-footer">
                        <div class="totals">
                            <div class="total-row total-final">
                                <span>TOTAL A PAGAR:</span>
                                <strong id="total-amount">$0.00</strong>
                            </div>
                        </div>
                        <form id="checkout-form">
                            <div class="grid">
                                <label>Nombre del Cliente
                                    <input type="text" id="cliente-nombre" name="cliente_nombre" placeholder="Venta General">
                                </label>
                                <label>Documento (C.C / NIT)
                                    <input type="text" id="cliente-documento" name="cliente_documento">
                                </label>
                            </div>
                            <div class="grid">
                                <label>Método de Pago
                                    <select id="metodo-pago" name="metodo_pago" required>
                                        <option value="Efectivo" selected>Efectivo</option>
                                        <option value="Tarjeta">Tarjeta</option>
                                        <option value="Transferencia">Transferencia</option>
                                        <option value="Otro">Otro</option>
                                    </select>
                                </label>
                                <label>Taller
                                    <select id="taller-select" name="taller" required>
                                        <option value="Taller Principal" selected>Taller Principal</option>
                                        <option value="Sucursal Centro">Sucursal Centro</option>
                                    </select>
                                </label>
                            </div>
                            <button type="submit" id="process-sale-btn" disabled>
                                <i data-feather="check-circle"></i> Procesar Venta
                            </button>
                        </form>
                    </footer>
                </article>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="../js/caja.js"></script>
</body>
</html>